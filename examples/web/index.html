<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lrc Web Demo</title>
  <style>
    * {
      padding: 0;
      margin: 0;
      box-sizing: border-box;
    }

    main {
      display: flex;
      margin: 2em;
      font-size: 1.25em;
      font-weight: 900;
    }

    main div {
      border: 1px solid #234;
      padding: 2em;
      border-radius: .5em;
    }

    main div h4 {
      margin-bottom: 1em;
    }

    main div:first-child {
      flex-shrink: 1;
      margin-right: 2em;
    }

    main div:last-child {
      flex-grow: 1;
    }
  </style>
</head>

<body>
  <main>
    <div>
      <h4>歌词</h4>
      <pre id="source"></pre>
    </div>
    <div>
      <h4>解析结果</h4>
      <pre id="lrc"></pre>
    </div>
  </main>

  <script src="./dist/lrc-parser.min.js"></script>
  <script src="./dist/lrc-util.min.js"></script>

  <script>
    const q = (select) => document.querySelector(select);

    const sourcePre = q('pre#source');
    const lrcPre = q('pre#lrc');

    const source = `[ti:美丽的神话]
[ar:成龙&金喜善]
[al:电影神话原声带]
[length:4:50]
[offset:200]
[00:00.00]美丽的神话
[00:04.00]演唱: 成龙&金喜善
[00:16.47]M: 解开我最神秘的等待
[00:23.72]星星坠落风在吹动
[00:31.00]终于再将你拥入怀中
[00:38.40]男: 两颗心颤抖
[00:46.40]相信我不变的真心
[00:53.12]千年等待有我承诺
[01:00.43]无论经过多少的寒冬
[01:07.86]我决不放手
[01:12.56]
[01:14.30]F: 이제 나의 손을 잡고 눈을 감아요
[01:21.48]우리 사랑했던 날들 생각해봐요
[01:28.95]女: 우리 너무 사랑해서 아팠었네요
[01:36.29]서로 사랑한단 말도 못했었네요
[01:44.18]
[01:59.32]M: 每一夜被心痛穿越
[02:06.65]思念永没有终点
[02:13.87]早习惯了孤独像随
[02:21.37]我微笑面对
[02:28.80]相信我我选择等待
[02:36.02]再多苦痛也不闪躲
[02:43.37]只有你的温柔能解救
[02:50.70]无边的冷漠
[02:55.48]
[02:57.49]F: 이제 나의 손을 잡고 눈을 감아요
[03:04.48]우리 사랑했던 날들 생각해봐요
[03:11.88]우리 너무 사랑해서 아팠었네요
[03:19.20]서로 사랑한단 말도 못했었네요
[03:26.57]D: 让爱成为你我心中 那永远盛开的花
[03:33.82]合唱: 穿越时空绝不低头永不放弃的梦
[03:42.62]F: 우리 너무 사랑해서 아팠었네요
[03:48.63]서로 사랑한단 말도 못했었네요
[03:56.09]D: 让爱成为你我心中 那永远盛开的花
[04:03.24]F: 우리 소중했던 약속 잊지말아요
[04:10.64]D: 唯有真爱追随你我 穿越无尽时空
[04:18.05]F: 서로 사랑한단 말도 못했었네요
[04:28.19]M: 爱是心中唯一不变美丽的神话
[04:42.00]`;

    sourcePre.innerText = source;

    const lrcParser = new Lp.LrcParser();
    lrcPre.innerText = JSON.stringify(lrcParser.parser(source), undefined, 2);

    const lrcUtil = new Lu.LrcUtil(source);

    lrcUtil.setTime(0)
    console.log('解析结果:', lrcUtil.getLrc());
    console.log('当前歌词:', lrcUtil.getLyric());
    console.log('下一句歌词:', lrcUtil.getNextLyric());
  </script>
</body>

</html>